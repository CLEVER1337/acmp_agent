
n = int(input())
p_list = list(map(float, input().split()))

if n == 0:
    print("{:.6f}".format(1.0))
else:
    # Динамическое программирование: dp[i][0] - вероятность четного числа искажений после i шагов
    # dp[i][1] - вероятность нечетного числа искажений после i шагов
    dp = [[0.0, 0.0] for _ in range(n + 1)]
    dp[0][0] = 1.0  # начальное состояние - 0 искажений (учитель сказал правду)
    dp[0][1] = 0.0
    
    for i in range(1, n + 1):
        p = p_list[i - 1]
        q = 1 - p
        
        # Если текущий говорит правду, то количество искажений не меняется
        # Если врет, то количество искажений меняется на противоположное
        dp[i][0] = dp[i - 1][0] * p + dp[i - 1][1] * q
        dp[i][1] = dp[i - 1][0] * q + dp[i - 1][1] * p
    
    # Вероятность того, что передано именно то, что сказал учитель (четное число искажений)
    result = dp[n][0]
    print("{:.6f}".format(result))
